<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@andyln/mof</title><meta name="description" content="Documentation for @andyln/mof"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@andyln/mof</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>@andyln/mof</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#mock-orchestration-framework-mof-typescript--javascript" id="mock-orchestration-framework-mof-typescript--javascript" style="color: inherit; text-decoration: none;">
  <h1>Mock Orchestration Framework (Mof) (TypeScript / JavaScript)</h1>
</a>
<p><img src="https://img.shields.io/github/license/NguyenAndrew/mof-typescript" alt="GitHub">
<a href="https://www.npmjs.com/package/@andyln/mof"><img src="https://img.shields.io/npm/v/@andyln/mof" alt="npm (scoped)"></a>
<a href="https://nguyenandrew.github.io/mof-typescript"><img src="https://img.shields.io/badge/typedoc-0.5.0-green" alt="typedoc"></a></p>
<p>The TypeScript (and JavaScript) library implementing the Mock Orchestration Framework (Mof). Used in tests to reduce complex logic and boilerplate code in overall codebase.</p>
<p><em>Looking for the Java library, click here: <a href="https://github.com/NguyenAndrew/mof-java">https://github.com/NguyenAndrew/mof-java</a></em></p>
<p>(<a href="#how-to-install">Install Instructions</a>, <a href="#example-usages">Usage</a>, and <a href="#faq">FAQ</a> below)</p>
<p><strong>Can reduce hours and days of writing unit tests into minutes!</strong> </p>
<p>Mof orchestrates all the mocks used within a method, allowing you to only write setup and verification code relevant for each unit test.</p>
<ul>
<li><strong>Q:</strong> Why Mof? <strong>A:</strong> Without it, each unit test needs to maintain the state and verification of its own mocks, and may become brittle when there are multiple units tests for a method. In other words, <strong>mock orchestration helps prevent initial and ongoing tech debt within unit tests</strong>.</li>
</ul>
<p><strong>Mof is compatible with both TDD and non-TDD approaches</strong>. This library helps augment the testing process, while letting the user choose &quot;when&quot; and &quot;how often&quot; to test. </p>

<a href="#simple-programming-paradigm-explaining-how-mof-works-with-simple-curves-and-non-simple-curves" id="simple-programming-paradigm-explaining-how-mof-works-with-simple-curves-and-non-simple-curves" style="color: inherit; text-decoration: none;">
  <h2>Simple Programming Paradigm (Explaining how Mof works with Simple Curves and Non-Simple Curves)</h2>
</a>
<p>For testing methods and creating new business logic, Mof helps encourage writing business logic using the Simple Programming Paradigm: Using Simple Curves over Non-Simple Curves. </p>
<ul>
<li><p>Link that describes Simple Programming: <a href="https://github.com/NguyenAndrew/Simple-Programming">https://github.com/NguyenAndrew/Simple-Programming</a></p>
</li>
<li><p>For the below description, &quot;Service&quot; refers to any object that is @Autorwired, injected, or constructor injected into the object-under-test.</p>
</li>
</ul>
<p>Examples of Simple Curves:</p>
<p>A -&gt; B -&gt; C</p>
<p>A -&gt; B -&gt; C -&gt; D -&gt; E</p>
<p>A -&gt; B -&gt; C -&gt; A (Note: A Simple Curve that starts and ends with the same service is also called a Simple Closed Curve)</p>
<p>Example of Non-Simple Curves:</p>
<p>A -&gt; B -&gt; C -&gt; B -&gt; D -&gt; E</p>
<p>A -&gt; B -&gt; C -&gt; D -&gt; E -&gt; F -&gt; ... -&gt; X -&gt; B -&gt; Y -&gt; Z</p>
<p>A -&gt; B -&gt; C -&gt; B -&gt; ... -&gt; B -&gt; C</p>
<p>A -&gt; B -&gt; C -&gt; D -&gt; C -&gt; B -&gt; A (Note: A Non-Simple Curve that starts and ends with the same service is also called a Non-Simple Closed Curve)</p>
<p>Simple Curves are recommended in most cases over Non-Simple Curves, because it is faster to understand and work with code when services are used in order one-by-one compared to when service usage is intertwined (both in business logic and in tests).</p>
<p>If the method you are testing happens to be a Non-Simple Curve, you can <strong>Refactor using sample suggestions</strong>:</p>
<ol>
<li>A -&gt; B -&gt; C -&gt; B -&gt; D -&gt; E can be converted to A -&gt; N -&gt; D -&gt; E (where N internally calls B -&gt; C -&gt; B).</li>
<li>A -&gt; B -&gt; C -&gt; D -&gt; E -&gt; F -&gt; ... -&gt; X -&gt; B -&gt; Y -&gt; Z can be coverted to A -&gt; N -&gt; Y -&gt; Z (where N internally calls B -&gt; ... -&gt; B)</li>
<li>A -&gt; B -&gt; C -&gt; B -&gt; ... -&gt; B -&gt; C can be coverted to A -&gt; N (where N internally calls B -&gt; C)</li>
<li>A -&gt; B -&gt; C -&gt; D -&gt; C -&gt; B -&gt; A can be converted in the following ways:<ol>
<li>A -&gt; N -&gt; A (where N internally calls B -&gt; C, D -&gt; C, B as separate method calls). Useful if you want to create stricter boundaries between service layers, at the cost of creating more methods.</li>
<li>A -&gt; N -&gt; D -&gt; C -&gt; B -&gt; A (where N internally calls B -&gt; C -&gt; D). Useful if you want to reduce amount of methods, at the cost of using services between multiple service layers.</li>
</ol>
</li>
</ol>

<a href="#how-to-install" id="how-to-install" style="color: inherit; text-decoration: none;">
  <h2>How to Install</h2>
</a>
<p>Run the following command in your terminal</p>
<pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> --</span><span class="hl-0">save</span><span class="hl-1">-</span><span class="hl-0">dev</span><span class="hl-1"> @</span><span class="hl-0">andyln</span><span class="hl-1">/</span><span class="hl-0">mof</span>
</code></pre>
<p>This library is on npm: <a href="https://www.npmjs.com/package/@andyln/mof">https://www.npmjs.com/package/@andyln/mof</a></p>

<a href="#example-usages" id="example-usages" style="color: inherit; text-decoration: none;">
  <h2>Example Usages</h2>
</a>

<a href="#creating-mof" id="creating-mof" style="color: inherit; text-decoration: none;">
  <h3>Creating Mof</h3>
</a>
<pre><code><span class="hl-2">// Filename: microwave.test.ts</span><br/><span class="hl-2">// ... Make imports and jest.mock(...) calls here</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">timer</span><span class="hl-1"> = </span><span class="hl-0">jest</span><span class="hl-1">.</span><span class="hl-5">mocked</span><span class="hl-1">(</span><span class="hl-0">Timer</span><span class="hl-1">);             </span><span class="hl-2">// Works with Object mocks (from jest)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">motor</span><span class="hl-1"> = </span><span class="hl-0">jest</span><span class="hl-1">.</span><span class="hl-5">mocked</span><span class="hl-1">(</span><span class="hl-6">Motor</span><span class="hl-1">.</span><span class="hl-0">prototype</span><span class="hl-1">));  </span><span class="hl-2">// Works with Class Mocks (from jest)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">magnetron</span><span class="hl-1"> = </span><span class="hl-5">mock</span><span class="hl-1">&lt;</span><span class="hl-6">Magnetron</span><span class="hl-1">&gt;();          </span><span class="hl-2">// Works with Interface mocks (from jest-mock-extended)</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">mof</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Mof</span><span class="hl-1">.</span><span class="hl-5">Builder</span><span class="hl-1">()</span><br/><span class="hl-1">    .</span><span class="hl-5">add</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-0">timer</span><span class="hl-1">,</span><br/><span class="hl-1">        () </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">timer</span><span class="hl-1">.</span><span class="hl-0">makeNoise</span><span class="hl-1">.</span><span class="hl-5">mockReturnValue</span><span class="hl-1">(</span><span class="hl-4">SAMPLE_TIMER_OUTPUT</span><span class="hl-1">), </span><span class="hl-2">// Sync Example</span><br/><span class="hl-1">        () </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">expect</span><span class="hl-1">(</span><span class="hl-0">timer</span><span class="hl-1">.</span><span class="hl-0">makeNoise</span><span class="hl-1">).</span><span class="hl-5">toBeCalledTimes</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-5">expect</span><span class="hl-1">(</span><span class="hl-0">timer</span><span class="hl-1">.</span><span class="hl-0">makeNoise</span><span class="hl-1">).</span><span class="hl-5">nthCalledWith</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-4">SAMPLE_TIMER_INPUT</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    )</span><br/><span class="hl-1">    .</span><span class="hl-5">add</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-0">motor</span><span class="hl-1">,</span><br/><span class="hl-1">        () </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">motor</span><span class="hl-1">.</span><span class="hl-0">spinTurntable</span><span class="hl-1">.</span><span class="hl-5">mockResolvedValue</span><span class="hl-1">(</span><span class="hl-4">SAMPLE_SPINNING_TURNTABLE</span><span class="hl-1">), </span><span class="hl-2">// Async Example</span><br/><span class="hl-1">        () </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">expect</span><span class="hl-1">(</span><span class="hl-0">timer</span><span class="hl-1">.</span><span class="hl-0">makeNoise</span><span class="hl-1">).</span><span class="hl-5">toBeCalledTimes</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-5">expect</span><span class="hl-1">(</span><span class="hl-0">timer</span><span class="hl-1">.</span><span class="hl-0">makeNoise</span><span class="hl-1">).</span><span class="hl-5">nthCalledWith</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-4">SAMPLE_MOTOR_INPUT</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    )</span><br/><span class="hl-1">    .</span><span class="hl-5">add</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-0">magnetron</span><span class="hl-1">,</span><br/><span class="hl-1">        () </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">magnetron</span><span class="hl-1">.</span><span class="hl-0">heatFood</span><span class="hl-1">.</span><span class="hl-5">mockResolvedValue</span><span class="hl-1">(</span><span class="hl-4">SAMPLE_COOKED_FOOD</span><span class="hl-1">), </span><br/><span class="hl-1">        () </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">expect</span><span class="hl-1">(</span><span class="hl-0">magnetron</span><span class="hl-1">.</span><span class="hl-0">heatFood</span><span class="hl-1">).</span><span class="hl-5">toBeCalledTimes</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-5">expect</span><span class="hl-1">(</span><span class="hl-0">magnetron</span><span class="hl-1">.</span><span class="hl-0">heatFood</span><span class="hl-1">).</span><span class="hl-5">nthCalledWith</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-4">SAMPLE_UNCOOKED_FOOD</span><span class="hl-1">);         </span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    )</span><br/><span class="hl-1">    .</span><span class="hl-5">enableVerifyNoInteractions</span><span class="hl-1">((</span><span class="hl-0">mock</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-5">expect</span><span class="hl-1">(</span><span class="hl-0">mock</span><span class="hl-1">).</span><span class="hl-0">not</span><span class="hl-1">.</span><span class="hl-5">toHaveBeenCalled</span><span class="hl-1">())</span><br/><span class="hl-1">    .</span><span class="hl-5">build</span><span class="hl-1">();</span>
</code></pre>

<a href="#unit-testing---base-success-case" id="unit-testing---base-success-case" style="color: inherit; text-decoration: none;">
  <h3>Unit Testing - Base Success Case</h3>
</a>
<pre><code><span class="hl-2">// ...</span><br/><br/><span class="hl-5">test</span><span class="hl-1">(</span><span class="hl-8">&#39;success&#39;</span><span class="hl-1">, </span><span class="hl-3">async</span><span class="hl-1"> () </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">// Given (Setup data)</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">expected</span><span class="hl-1">: </span><span class="hl-6">Food</span><span class="hl-1"> = </span><span class="hl-4">SAMPLE_HOT_FOOD</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-2">// Given (Setup processors)</span><br/><span class="hl-1">    </span><span class="hl-0">mof</span><span class="hl-1">.</span><span class="hl-5">when</span><span class="hl-1">(</span><span class="hl-4">ALL</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-2">// When (Run the thing that you want to test)</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">actual</span><span class="hl-1">: </span><span class="hl-6">Food</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">microwave</span><span class="hl-1">.</span><span class="hl-5">heatFood</span><span class="hl-1">(</span><span class="hl-4">SAMPLE_COLD_FOOD</span><span class="hl-1">, </span><span class="hl-4">SAMPLE_SECONDS</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-2">// Then (Asserting what you want to be true, is actually true)</span><br/><span class="hl-1">    </span><span class="hl-5">expect</span><span class="hl-1">(</span><span class="hl-0">actual</span><span class="hl-1">).</span><span class="hl-5">toEqual</span><span class="hl-1">(</span><span class="hl-0">expected</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-2">// Verify (Asserting the processors are called in the way you want)</span><br/><span class="hl-1">    </span><span class="hl-0">mof</span><span class="hl-1">.</span><span class="hl-5">verify</span><span class="hl-1">(</span><span class="hl-4">ALL</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#unit-testing---an-exception-case" id="unit-testing---an-exception-case" style="color: inherit; text-decoration: none;">
  <h3>Unit Testing - An Exception Case</h3>
</a>
<pre><code><span class="hl-2">// ...</span><br/><br/><span class="hl-5">test</span><span class="hl-1">(</span><span class="hl-8">&#39;whenMotorFails_ThenThrowAnException&#39;</span><span class="hl-1">, </span><span class="hl-3">async</span><span class="hl-1"> () </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">// Given (Setup data)</span><br/><span class="hl-1">    </span><span class="hl-2">// No data to setup</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-2">// Given (Setup processors)</span><br/><span class="hl-1">    </span><span class="hl-0">mof</span><span class="hl-1">.</span><span class="hl-5">whenBefore</span><span class="hl-1">(</span><span class="hl-0">motor</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">motor</span><span class="hl-1">.</span><span class="hl-0">spinTurntable</span><span class="hl-1">.</span><span class="hl-5">mockResolvedValue</span><span class="hl-1">(</span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-6">Error</span><span class="hl-1">());</span><br/><br/><span class="hl-1">    </span><span class="hl-2">// When (Run the thing that you want to test)</span><br/><span class="hl-1">    </span><span class="hl-2">// Then (Asserting what you want to be true, is actually true)</span><br/><span class="hl-1">    </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-5">expect</span><span class="hl-1">(</span><span class="hl-0">microwave</span><span class="hl-1">.</span><span class="hl-5">heatFood</span><span class="hl-1">(</span><span class="hl-4">SAMPLE_COLD_FOOD</span><span class="hl-1">, </span><span class="hl-4">SAMPLE_SECONDS</span><span class="hl-1">)).</span><span class="hl-0">rejects</span><span class="hl-1">.</span><span class="hl-5">toThrow</span><span class="hl-1">(</span><span class="hl-4">SAMPLE_ERROR_MESSAGE</span><span class="hl-1">); </span><br/><br/><span class="hl-1">    </span><span class="hl-2">// Verify (Asserting the processors are called in the way you want)</span><br/><span class="hl-1">    </span><span class="hl-0">mof</span><span class="hl-1">.</span><span class="hl-5">verifyThrough</span><span class="hl-1">(</span><span class="hl-0">motor</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">mof</span><span class="hl-1">.</span><span class="hl-5">verifyNoInteractions</span><span class="hl-1">(</span><span class="hl-4">REMAINING</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code></pre>
<p>TypeDoc documentation can be found here: <a href="https://nguyenandrew.github.io/mof-typescript">https://nguyenandrew.github.io/mof-typescript</a></p>

<a href="#faq" id="faq" style="color: inherit; text-decoration: none;">
  <h2>FAQ</h2>
</a>
<p><strong>Q:</strong> What problem(s) does this library solve.</p>
<p><strong>A:</strong> This library solves the problem of delivering production code faster. By using an explicit when/verify structure it helps solve problems 3-6 from the <a href="https://github.com/NguyenAndrew/Unit-Testing-Guidelines">Unit Testing Guidelines</a>.</p>
<hr>
<p><strong>Q:</strong> Why should I use this dependency instead of making my own private methods to setup mocks?</p>
<p><strong>A:</strong> Private methods can help abstract method call over mocks (such as abstracting whens and verifies), but doesn&#39;t help coordinate how your tests interacts with these mocks (which can be a major time sink). This library solves this problem.</p>
<hr>
<p><strong>Q:</strong> Won&#39;t this dependency create an additional maintance cost on my project?</p>
<p><strong>A:</strong> This library is MIT licensed and deployed out to npm. The source code is fully available and is fully unit tested to help provide developer confidence. Also, this library is easy to seperate and remove, as mentioned later in the FAQ. </p>
<hr>
<p><strong>Q:</strong> Wont this cause confusion with developers that are not familiar on how to use this library?</p>
<p><strong>A:</strong> While there may be additional costs upfront to learn this library, it will save much time when creating new features to your code. This depedency has been shown to save many hours on business production code.</p>
<hr>
<p><strong>Q:</strong> I don&#39;t believe it is a good practice to couple a default set of verifies with whens. Doesn&#39;t this seem like an anti-pattern?</p>
<p><strong>A:</strong> Your test code is already doing this coupling implicity. This dependency defines this structure explicitly, through the construction of the Mof object(s), and takes advantage of this defined structure to achieve testing intelligence capabilities. </p>
<hr>
<p><strong>Q:</strong> What are these &quot;testing intelligence capabilities&quot;?</p>
<p><strong>A:</strong> Intelligence capabilities include: </p>
<ul>
<li>Encouraging code to become more straightforward through the Simple Programming paradigm</li>
<li>Avoiding under and overmocking through the usage of a framework (Mock Orchestration Framework)</li>
<li>Reusable code by reducing the amount of one-off private methods, and only needing to create the whens and verifies for a specific test.</li>
</ul>
<hr>
<p><strong>Q:</strong> Does this library support TDD?</p>
<p><strong>A:</strong> Yes. You can use this library using both TDD, and not TDD. After learning the library, it should make both TDD and non-TDD faster in the short term and long term.</p>
<hr>
<p><strong>Q:</strong> Should I made one Mof per class, or one Mof per method-under-test?</p>
<p><strong>A:</strong> This library both styles. I have seen this library works best by making a Mof object for each method-under-test, where that method has multiple unit tests.</p>
<hr>
<p><strong>Q:</strong> Shouldn&#39;t you have all methods in a class reuse the same predefined mocks and whens?</p>
<p><strong>A:</strong> It should. This dependency allows for that use case, and additionally also allows for the case where methods may have different initial mock state depending on which method is called.</p>
<hr>
<p><strong>Q:</strong> Why not create separate whens and verifies objects to construct Mof?</p>
<p><strong>A:</strong> This separate objected implementation was tested in initial POC, but there were auto-formatting issues with IDEs to construct these objects in a human readable format.</p>
<hr>
<p><strong>Q:</strong> In the above &quot;Unit Testing - An Exception Case example&quot;, by using <code>verifyThrough(REMAINING)</code>, are you forgetting to verify that the magnetron is not running? I think you should add code for noVerifyInteractions on the magnetron, so that we can guarantee it doesn&#39;t run and cover all of the test cases.</p>
<p><strong>A:</strong> This test case (and other similar combinations) are explicitly covered when you create the Mof object, as you are stating that the timer (methods runs first) -&gt; motor (methods run second) -&gt; magnetron (methods run third).</p>
<hr>
<p><strong>Q:</strong> Following up on the previous question, what if I accidentally constructed the Mof object in the wrong order (such as timer -&gt; magnetron -&gt; motor)? Wouldn&#39;t that miss verifying unexpected behavior?</p>
<p><strong>A:</strong> You would be notified by your unit tests, and you would be able to fix the misorder. Mof prevents overmocking and verifies all methods that need to be verified. </p>
<p>In the test case where you ran <code>mof.whenBefore(magnetron); ... mof.verifyBefore(magnetron); ... mof.verifyNoInteractions(REMAINING)</code>, and the business logic has the motor running before magnetron, then an exception would be thrown. </p>
<p>The reason is that motor would have been called, but by stating <code>mof.verifyNoInteractions(REMAINING)</code>, the test would state something like: &quot;Expected no calls to this method, but this method is called 1 time&quot;.</p>
<p>In summary: The combination of your business logic, Mof, and your unit tests, ensures your tests are testing what they need to, and helps keep your business logic and unit tests up-to-date with each other.</p>
<hr>
<p><strong>Q:</strong> I want to remove this library (Didn&#39;t like the user experience, found a better library, etc). How difficult is it to do so?</p>
<p><strong>A:</strong> Using Mof replaces the implicit whens and verifies between your different unit tests with explicit code. The process of removing the library is simple: Remove the explicit structure by copying and paste those extra whens and verifies back into each of your unit tests.</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-class"><a href="classes/Mof.html" class="tsd-kind-icon">Mof</a></li><li class="tsd-kind-interface"><a href="interfaces/MofBuilder.html" class="tsd-kind-icon">Mof<wbr/>Builder</a></li><li class="tsd-kind-variable"><a href="modules.html#ALL" class="tsd-kind-icon">ALL</a></li><li class="tsd-kind-variable"><a href="modules.html#FIRST" class="tsd-kind-icon">FIRST</a></li><li class="tsd-kind-variable"><a href="modules.html#LAST" class="tsd-kind-icon">LAST</a></li><li class="tsd-kind-variable"><a href="modules.html#REMAINING" class="tsd-kind-icon">REMAINING</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>